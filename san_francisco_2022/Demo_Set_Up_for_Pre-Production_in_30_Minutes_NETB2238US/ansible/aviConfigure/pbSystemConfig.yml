---
- hosts: localhost
  connection: local
  gather_facts: no

  vars_files:
    - "vars/params.yml"

  collections:
    - vmware.alb

  tasks:
    - name: Create Backup Configuration passphrase
      vmware.alb.avi_backupconfiguration:
        avi_credentials: "{{ avi_credentials | default(omit) }}"
        api_context: "{{ avi_api_context | default(omit) }}"
        state: present
        backup_passphrase: "{{ avi_credentials.password }}"
        name: Backup-Configuration
        save_local: true
      tags:
        - system

    - name: Define ntp_servers
      set_fact:
        ntp_servers: "{{ ntp_servers | default([]) + [{ 'server': {'type': 'V4', 'addr': item}}] }}"
      loop: "{{ ntp_servers_ips }}"
      when:
        - ntp_servers_ips is defined
        - ntp_servers_ips | length > 0

    - name: Define dns_servers
      set_fact:
        server_list: "{{ server_list | default([]) + [{'type': 'V4', 'addr': item}] }}"
      loop: "{{ dns_servers_ips }}"
      when:
        - dns_servers_ips is defined
        - dns_servers_ips | length > 0

    - name: Define avi_systemconfiguration
      set_fact:
        avi_systemconfiguration:
          global_tenant_config:
            se_in_provider_context: "{{ controller.se_in_provider_context | default('false') }}"
            tenant_access_to_provider_se: "{{ controller.tenant_access_to_provider_se | default('true') }}"
            tenant_vrf: "{{ controller.tenant_vrf | default('false') }}"
          welcome_workflow_complete: true
          ntp_configuration:
            ntp_servers: "{{ ntp_servers | default(omit) }}"
          dns_configuration:
            search_domain: ''
            server_list: "{{ server_list | default(omit) }}"
          email_configuration:
            from_email: "{{ controller.email_configuration | default('test@avicontroller.net') }}"
            smtp_type: SMTP_LOCAL_HOST
      when:
        - ntp_servers is defined
        - server_list is defined

    - name: Configure Avi System parameters
      vmware.alb.avi_systemconfiguration:
        avi_credentials: "{{ avi_credentials | default(omit) }}"
        api_context: "{{ avi_api_context | default(omit) }}"
        global_tenant_config: "{{ avi_systemconfiguration.global_tenant_config }}"
        dns_configuration: "{{ avi_systemconfiguration.dns_configuration }}"
        ntp_configuration: "{{ avi_systemconfiguration.ntp_configuration }}"
        email_configuration: "{{ avi_systemconfiguration.email_configuration }}"
        welcome_workflow_complete: "{{ avi_systemconfiguration.welcome_workflow_complete }}"
        default_license_tier: ENTERPRISE
      when:
        - avi_systemconfiguration is defined
      tags:
        - system

    - name: Create HTTP health monitor
      vmware.alb.avi_healthmonitor:
        avi_credentials: "{{ avi_credentials | default(omit) }}"
        api_context: "{{ avi_api_context | default(omit) }}"
        name: "{{ item.name }}"
        tenant: "{{ item.tenant_ref | default('admin') }}"
        tenant_ref: "/api/tenant?name={{ item.tenant_ref | default('admin') }}"
        http_monitor:
          http_request: "{{ item.http_request }}"
          http_response_code: "{{ item.http_response_code }}"
        receive_timeout: "{{ item.receive_timeout }}"
        failed_checks: "{{ item.failed_checks }}"
        send_interval: "{{ item.send_interval }}"
        successful_checks: "{{ item.successful_checks }}"
        type: "{{ item.type }}"
      loop: "{{ healthMonitor }}"
      loop_control:
        label: "{{ item.name }}"
      when:
        - healthMonitor is defined
        - item.type == "HEALTH_MONITOR_HTTP"
      tags:
        - vsHttp
        - hm
        - pool
        - vs
    - name: Custom Error Page Body
      avi_errorpagebody:
        avi_credentials: "{{ avi_credentials | default(omit) }}"
        api_context: "{{ avi_api_context | default(omit) }}"
        state: present
        name: custom_avi_error_page
        error_page_body: >
              <!DOCTYPE html>
              <html>
              <head>
              <style>
              div {
                    display: flex;
                    justify-content: center;
                  }
              body {
                background-color: #25232e;
                text-align: center;
              }
              p {
                font-size: 150% /*px, cm, in, etc.*/;
                color: White;
              white-space: pre;

              }
              .paragraph {
                max-width: auto%;
                word-wrap: break-word;
                word-break: break-all;
              white-space: pre;
              }
              </style>
                <title>Error Page</title>
              </head>
              <body>
                <div>
                <img src='data:image/png;base64,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'>
                </div>
               <p class="paragraph">

              Application Name: $vs_name


              Request ID: $request_id


              </p>

              </body>

              </html>

        avi_api_patch_op: add
        avi_api_update_method: put
      tags:
        - page
    - name: DEMO Error Page Profile
      avi_errorpageprofile:
        avi_credentials: "{{ avi_credentials }}"
        state: present
        name: custom_avi_error_page_profile
        error_pages:
        - enable: true
          error_page_body_ref: /api/errorpagebody/?name=custom_avi_error_page
          index: 1
          match:
            match_criteria: IS_IN
            ranges:
            - begin: 400
              end: 599
      tags:
        - profile
